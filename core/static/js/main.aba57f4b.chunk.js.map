{"version":3,"sources":["apis.js","contexts/AuthContext.js","layouts/MainLayout.js","pages/Home.js","pages/Login.js","containers/ImageDropzone.js","containers/MenuItemForm.js","components/MenuItem.js","components/QRCode.js","components/OperationButton.js","components/QRCodeModal.js","pages/Place.js","containers/PlaceForm.js","pages/Places.js","pages/Register.js","components/MenuList.js","containers/PaymentForm.js","components/TipJar.js","pages/Menu.js","components/Order.js","pages/Orders.js","router/PrivateRoute.js","router/App.js","index.js"],"names":["request","path","data","token","method","fetch","headers","body","JSON","stringify","then","response","ok","json","status","errors","Object","keys","map","k","join","Error","catch","e","name","statusText","toast","message","type","signIn","username","password","register","fetchPlace","id","addCategory","AuthContext","createContext","AuthProvider","children","useState","localStorage","getItem","setToken","loading","setLoading","value","callback","a","signInApi","console","log","auth_token","setItem","signOut","removeItem","registerApi","Provider","MainLayout","history","useHistory","auth","useContext","Navbar","bg","variant","className","Brand","href","Nav","Link","onClick","push","replace","Container","Home","Jumbotron","Row","Col","md","Button","size","Image","src","rounded","fluid","Login","setUsername","setPassword","useEffect","lg","Card","Body","Form","Group","Label","Control","placeholder","onChange","target","block","disabled","Spinner","as","animation","role","Dropzone","styled","div","ImageDropzone","onDrop","useCallback","acceptedFiles","image","formData","FormData","append","uploadImage","url","finally","useDropzone","multiple","accept","getRootProps","getInputProps","alt","MenuItemForm","place","onDone","item","categoryName","setCategoryName","categoryFormShow","setCategoryFormShow","category","setCategory","setName","price","setPrice","description","setDescription","setImage","undefined","is_available","isAvailable","setIsAvailable","useRef","onAddCategory","onAddMenuItems","onUpdateMenuItem","categories","c","ref","Overlay","show","current","placement","rootClose","onHide","Popover","Title","Content","active","MenuItem","onEdit","onRemove","onAdd","xs","style","backgroundImage","class","color","ComponentToPrint","QRCode","table","placeId","placeName","componentRef","handlePrint","useReactToPrint","content","window","location","origin","display","OperationButton","QRCodeModal","onUpdatePlace","Modal","centered","Array","from","length","number_of_tables","_","i","Panel","Place","setPlace","menuItemFormShow","setMenuItemFormShow","selectedItem","setSelectedItem","qrCode","setQrCode","hideModal","params","useParams","onBack","onFetchPlace","onRemoveCategory","confirm","removeCategory","onRemoveMenuItem","removeMenuItem","menu_items","tables","PlaceForm","address","setAddress","site","setSite","forEach","d","AddPlaceButton","Places","places","setPlaces","setShow","onFetchPlaces","Register","MenuList","cart","width","height","filter","quantity","PaymentForm","amount","items","stripe","useStripe","elements","useElements","handleSubmit","event","preventDefault","createPaymentMethod","card","getElement","CardElement","error","paymentMethod","payment_method","detail","success","order","onSubmit","options","hidePostalCode","stripePromise","loadStripe","StripeContext","props","TipJar","onPaymentDone","totalPrice","useMemo","reduce","b","Menu","setCart","setShowCart","showTip","onAddItemToCart","totalQuantity","key","Order","onComplete","Header","parse","borderRadius","margin","Orders","orders","setOrders","onFetchOrders","onCompleteOrder","orderId","interval","setInterval","clearInterval","o","PrivateRoute","rest","render","to","pathname","state","App","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aba57f4b.chunk.js","sourcesContent":["import {toast} from 'react-hot-toast';\n\nfunction request(path, { data=null, token=null, method=\"GET\"}) {\n    return fetch(path, {\n        method: method,\n        headers: {\n            \"Authorization\": token ? `Token ${token}` : \"\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: method !== \"GET\" && method !== \"DELETE\" ? JSON.stringify(data) : null,\n    })\n    .then((response) => {\n\n        // Success\n        if (response.ok) {\n            if (method === \"DELETE\") {\n                return true;\n            }\n            return response.json();\n        }\n\n        // errors\n        return response.json()\n        .then((json) => {\n            // Handle JSON error response by server\n            if (response.status === 400) {\n                const errors = Object.keys(json).map(\n                    (k) => `${(json[k].join(\" \"))}`\n                );\n                throw new Error(errors.join(\" \"))\n            }\n            throw new Error(JSON.stringify(json));\n        })\n        .catch((e) => {\n            if (e.name === \"SyntaxError\") {\n                throw new Error(response.statusText);\n            }\n            throw new Error(e)\n        })\n    })\n\n    .catch((e) => {\n        // Handle all errors\n        toast(e.message, {type:\"error\"});\n    })\n}\n\nexport function signIn(username, password) {\n    return request(\"/auth/token/login/\", {\n        data: {username, password},\n        method: \"POST\"\n    })\n}\n\nexport function register(username, password) {\n    return request(\"/auth/users/\", {\n        data: {username, password},\n        method: \"POST\"\n    })\n}\n\nexport function fetchPlaces(token) {\n    return request('/api/places/', {token});\n}\n\nexport function addPlace(data, token) {\n    return request('/api/places/', {data, token, method: \"POST\"});\n}\n\nexport function uploadImage(image) {\n    const formData = new FormData();\n    formData.append(\"file\", image);\n    formData.append(\"upload_preset\", \"qr_blynd\");\n\n    return fetch('https://api.cloudinary.com/v1_1/Blynd/image/upload', {\n        method: \"POST\",\n        body: formData,\n    }).then((response) => {\n        return response.json();\n    });\n}\n\nexport function fetchPlace(id, token) {\n    return request(`/api/places/${id}/`, {token});\n}\n\nexport function addCategory(data, token) {\n    return request(\"/api/categories/\", {data, token, method: \"POST\"});\n}\n\nexport function addMenuItems(data, token) {\n    return request(\"/api/menu_items/\", {data, token, method: \"POST\"});\n}\n\nexport function updateMenuItem(id, data, token) {\n    return request(`/api/menu_items/${id}/`, {data, token, method: \"PATCH\"});\n}\n\nexport function removePlace(id, token) {\n    return request(`/api/places/${id}/`, {token, method:\"DELETE\"});\n}\n\nexport function removeCategory(id, token) {\n    return request(`/api/categories/${id}/`, {token, method:\"DELETE\"});\n}\n\nexport function removeMenuItem(id, token) {\n    return request(`/api/menu_items/${id}/`, {token, method:\"DELETE\"});\n}\n\nexport function updatePlace(id, data, token) {\n    return request(`/api/places/${id}/`, {data, token, method:\"PATCH\"});\n}\n\nexport function createPaymentIntent(data, token) {\n    return request('/api/create_payment_intent/', {data, token, method: \"POST\"});\n}\n\nexport function fetchOrders(placeId, token) {\n    return request(`/api/orders/?place=${placeId}`, {token});\n}\n\nexport function completeOrder(id, data, token) {\n    return request(`/api/orders/${id}/`, {data, token, method: \"PATCH\"});\n}","import React, { createContext, useState } from 'react';\n\nimport {signIn as signInApi, register as registerApi} from '../apis'\n\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n    const [token, setToken] = useState(localStorage.getItem(\"token\"));\n    const [loading, setLoading] = useState(false);\n\n    const signIn = async (username, password, callback) => {\n        setLoading(true);\n        const response  = await signInApi(username, password);\n        console.log(response);\n\n        if (response && response.auth_token) {\n            localStorage.setItem(\"token\", response.auth_token);\n            setToken(response.auth_token);\n            callback();\n        }\n\n        setLoading(false)\n    }\n\n    const signOut = () => {\n        localStorage.removeItem(\"token\");\n        setToken(\"\");\n    }\n\n    const register = async (username, password, callback) => {\n        setLoading(true);\n        const response = await registerApi(username, password);\n        if (response && response.id) {\n            callback();\n        }\n        setLoading(false);\n    }\n\n    const value = {\n        token,\n        loading,\n        signIn,\n        signOut,\n        register,\n    }\n\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport default AuthContext;","import { Navbar, Nav, Container } from 'react-bootstrap'\nimport { useHistory } from 'react-router-dom';\nimport React, {useContext} from 'react';\n\nimport AuthContext from '../contexts/AuthContext';\n\nconst MainLayout = ({ children }) => {\n    const history = useHistory();\n    const auth = useContext(AuthContext);\n\n    const onSignIn = () => {\n        history.replace(\"/login\")\n    }\n\n    const onRegister = () => {\n        history.replace(\"/register\")\n    }\n\n    const onSignOut = () => {\n        auth.signOut();\n        history.push(\"/login\");\n    }\n\n    const goToPlaces = () => {\n        history.push(\"/places\");\n    }\n\n    return (\n        <>\n            <Navbar bg=\"light\" variant=\"light\" className=\"mb-4\">\n                <Navbar.Brand href=\"/\">MenYou</Navbar.Brand>\n\n                <Nav>\n                    <Nav.Link onClick={goToPlaces}>Places</Nav.Link>\n                </Nav>\n\n                <Nav className=\"flex-grow-1 justify-content-end\">\n                    {auth.token ? (\n                        <Nav.Link onClick={onSignOut}>Log out</Nav.Link>\n                    ) : (\n                        [\n                          <Nav.Link key={1} onClick={onSignIn}>Login</Nav.Link>,\n                          <Nav.Link key={2} onClick={onRegister}>Register</Nav.Link>\n                        ]\n                    )}\n                    \n                </Nav>\n            </Navbar>\n            <Container>\n                {children}\n            </Container>\n        </>\n    )\n}\n\nexport default MainLayout;","import { Button, Jumbotron, Container, Row, Col, Image } from 'react-bootstrap';\n\nimport React from 'react';\nimport MainLayout from '../layouts/MainLayout';\n\nconst Home = () => (\n  <MainLayout>\n      <Jumbotron className=\"bg-light\">\n          <Container>\n              <Row>\n                  <Col md={6} className=\"my-auto\">\n                      <h1><b>Build and Share Custom Restaurant Guides</b></h1>\n                      <h5 className=\"mt-4 mb-4\">Share your must-have meals at your go-to spots with your day-one peeps</h5>\n                      <br/>\n                      <Button href=\"/places\" variant=\"standard\" size=\"lg\">\n                          Build Menu\n                      </Button>\n                  </Col>\n                  <br />\n                  <Col md={6}>\n                      <Image src=\"https://c.tenor.com/4EauhAI5810AAAAC/lets-order-menu.gif\" rounded fluid />\n                  </Col>\n              </Row>\n          </Container>\n      </Jumbotron>\n  </MainLayout>\n\n);\n\nexport default Home;","import { Button, Card, Col, Form, Row, Spinner } from 'react-bootstrap';\nimport {React, useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport MainLayout from '../layouts/MainLayout';\nimport AuthContext from '../contexts/AuthContext';\n\nconst Login = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const history = useHistory();\n    const auth = useContext(AuthContext);\n\n    useEffect(() => {\n        if (auth.token) {\n            history.replace('/places')\n        }\n    });\n\n    const onClick = () => {\n        auth.signIn(username, password, () => history.replace(\"/places\"));\n    };\n\n    return (\n        <MainLayout>\n            <Row className=\"justify-content-center\">\n                <Col lg={6} md={8}>\n                    <Card>\n                        <Card.Body>\n                            <h3 className=\"text-center\">\n                                <b>LOGIN</b>\n                            </h3>\n                            <Form.Group>\n                                <Form.Label>Username</Form.Label>\n                                <Form.Control \n                                    type=\"text\" \n                                    placeholder=\"Enter Username\" \n                                    value={username} \n                                    onChange={(e) => setUsername(e.target.value)} \n                                />\n                            </Form.Group>\n                            <Form.Group>\n                                <Form.Label>Password</Form.Label>\n                                <Form.Control \n                                    type=\"password\" \n                                    placeholder=\"Enter Password\" \n                                    value={password} \n                                    onChange={(e) => setPassword(e.target.value)} \n                                    />\n                            </Form.Group>\n                            <Button variant=\"standard\" block onClick={onClick} disabled={auth.loading}>\n                                {auth.loading ? (<Spinner variant=\"standard\" as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />) : (\"Sign In\")}\n                            </Button>\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n        </MainLayout>\n    )\n}\n\nexport default Login;","import { Spinner } from \"react-bootstrap\";\nimport {useDropzone} from 'react-dropzone';\nimport React, {useCallback, useState} from \"react\";\nimport styled from \"styled-components\";\n\nimport { uploadImage } from \"../apis\";\n\nconst Dropzone = styled.div`\n  border: 1px dashed #ced4d9;\n  border-radius: 5px;\n  color: #6c757d;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 142px;\n  img {\n      height: 140px;\n  }\n`;\n\nfunction ImageDropzone({value, onChange}) {\n    const [loading, setLoading] = useState(false);\n\n    const onDrop = useCallback((acceptedFiles) => {\n        console.log(acceptedFiles);\n\n        setLoading(true);\n        uploadImage(acceptedFiles[0])\n        .then((json) => onChange(json.url))\n        .finally(() => setLoading(false));\n    }, []);\n\n    const {getRootProps, getInputProps} = useDropzone({\n        onDrop,\n        multiple: false,\n        accept: 'image/*'\n    });\n\n  return (\n    <Dropzone {...getRootProps()}>\n      <input {...getInputProps()} />\n      {\n          value ? (\n              <img src={value} alt=\"uploaded place\" />\n          ) : loading ? (\n              <Spinner variant=\"standard\" animation=\"border\" role=\"status\" />\n          ) : (\n              <span>Drag & drop file here, or click to select file</span>\n          )\n      }\n    </Dropzone>\n  )\n}\n\nexport default ImageDropzone;","import React, {useState, useContext, useRef} from 'react';\nimport {Button, Form, Popover, Overlay} from 'react-bootstrap';\nimport {RiPlayListAddFill} from 'react-icons/ri';\nimport {toast} from 'react-hot-toast';\n\nimport { addCategory, addMenuItems, updateMenuItem } from '../apis';\nimport AuthContext from '../contexts/AuthContext';\nimport ImageDropzone from './ImageDropzone';\n\nconst MenuItemForm = ({place, onDone, item={} }) => {\n    const [categoryName, setCategoryName] = useState(\"\");\n    const [categoryFormShow, setCategoryFormShow] = useState(false);\n\n    const [category, setCategory] = useState(item.category);\n    const [name, setName] = useState(item.name);\n    const [price, setPrice] = useState(item.price || 0);\n    const [description, setDescription] = useState(item.description);\n    const [image, setImage] = useState(item.image);\n    const [isAvailable, setIsAvailable] = useState(\n       item.is_available === undefined ? true : !!item.is_available\n    );\n\n    const target = useRef(null);\n\n    const auth = useContext(AuthContext);\n\n    const onAddCategory = async () => {\n        const json = await addCategory({name: categoryName, place: place.id}, auth.token);\n        if (json) {\n            toast(`${json.name} was created`, {type: \"success\"});\n            setCategory(json.id);\n            setCategoryName(\"\");\n            setCategoryFormShow(false);\n            onDone();\n        }\n    };\n\n    const onAddMenuItems = async () => {\n        const json = await addMenuItems({\n            place: place.id,\n            category,\n            name,\n            price,\n            description,\n            image,\n            is_available: isAvailable\n        }, auth.token);\n\n        if (json) {\n            toast(`${json.name} was created`, {type:\"success\"});\n            setCategory(\"\");\n            setName(\"\");\n            setPrice(0);\n            setDescription(\"\");\n            setImage(\"\");\n            setIsAvailable(true);\n            onDone();\n        }\n    }\n\n    const onUpdateMenuItem = async () => {\n        const json = await updateMenuItem(\n            item.id,\n            {\n                place: place.id,\n                category,\n                name,\n                price,\n                description,\n                image,\n                is_available: isAvailable\n            },\n            auth.token\n        );\n\n        if (json) {\n            toast(`${json.name} updated`, {type:\"success\"});\n            setCategory(\"\");\n            setName(\"\");\n            setPrice(0);\n            setDescription(\"\");\n            setImage(\"\");\n            setIsAvailable(true);\n            onDone();\n        }\n    }\n\n    return (\n        <div>\n            {/* CATEGORIES */}\n            <Form.Group>\n                <Form.Label>Category</Form.Label>\n                <div className=\"d-flex align-items-center\">\n                    <Form.Control as=\"select\" value={category} onChange={(e) => setCategory(e.target.value)}>\n                        <option />\n                        {place?.categories?.map((c) => (\n                            <option key={c.id} value={c.id}>\n                                {c.name}\n                            </option>\n                        ))}\n                    </Form.Control>\n                    <Button ref={target} variant=\"link\" onClick={() => setCategoryFormShow(true)}>\n                        <RiPlayListAddFill size={25} />\n                    </Button>\n                    <Overlay \n                      show={categoryFormShow} \n                      target={target.current} \n                      placement=\"bottom\" \n                      rootClose \n                      onHide={() => setCategoryFormShow(false)}\n                    >\n                        <Popover id=\"popover-contained\">\n                            <Popover.Title as=\"h3\">Category</Popover.Title>\n                            <Popover.Content>\n                                <Form.Group>\n                                    <Form.Control\n                                      type=\"text\"\n                                      placeholder=\"Category Name\"\n                                      value={categoryName}\n                                      onChange={(e) => setCategoryName(e.target.value)}\n                                    />\n\n                                </Form.Group>\n                                <Button variant=\"standard\" block onClick={onAddCategory}>\n                                    Add Category\n                                </Button>\n                            </Popover.Content>\n\n                        </Popover>\n\n                    </Overlay>\n                </div>\n            </Form.Group>\n        \n            {/* MENU ITEMS */}\n            <Form.Group>\n                <Form.Label>Dish name</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Wild Mushroom Pizza\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value) }\n                />\n            </Form.Group>\n            {/* <Form.Group>\n                <Form.Label>Price</Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  placeholder=\"Enter Price\"\n                  value={price}\n                  onChange={(e) => setPrice(e.target.value) }\n                />\n            </Form.Group> */}\n            <Form.Group>\n                <Form.Label>Commentary</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  placeholder=\"Even if you don't like mushrooms, the goat cheese and truffle are amazing\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value) }\n                />\n            </Form.Group>\n            <Form.Group>\n                <Form.Label>Image (optional)</Form.Label>\n                <ImageDropzone value={image} onChange={setImage} />\n            </Form.Group>\n            {/* <Form.Group>\n                <Form.Check \n                  type=\"checkbox\"\n                  label=\"Is available?\"\n                  checked={isAvailable}\n                  onChange={(e) => setIsAvailable(e.target.checked)}\n                />\n            </Form.Group> */}\n            <Button \n              variant=\"standard\" \n              block \n              onClick={item.id ? onUpdateMenuItem : onAddMenuItems}>\n                {item.id ? \"Update Menu Item\" : \"+ Add Menu Item\"}\n            </Button>\n        </div>\n    );\n}\n\nexport default MenuItemForm;","import {Col, Button} from 'react-bootstrap';\nimport React from 'react';\nimport styled from 'styled-components';\nimport {BiEdit} from 'react-icons/bi'\nimport { AiOutlineDelete } from 'react-icons/ai';\n\nconst Container = styled.div`\n  border-radius: 5px;\n  background-color: white;\n  margin-bottom: 30px;\n  box-shadow: 1px 1px 8px rgba(0,0,0,0.1);\n  display: flex;\n  opacity: ${({active}) => (active ? 1: 0.6)};\n  > div:first-child {\n      width: 40%;\n      border-top-left-radius: 5px;\n      border-bottom-left-radius: 5px;\n      background-size: cover;\n  }\n  > div:last-child {\n      padding: 15px 20px;\n      min-height: 150px;\n  }\n`;\n\nconst MenuItem = ({ item, onEdit, onRemove, onAdd }) => (\n    <Container active={item.is_available}>\n        <Col xs={5} style={{backgroundImage: `url(${item.image})`}} />\n        <Col xs={7} class=\"d-flex flex-column justify-content-between w-100\">\n            <div>\n                <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                    <h4 className=\"mb-0\"><b>{item.name}</b></h4>\n                    <div>\n                     {onEdit ? (\n                         <Button variant=\"link\" onClick={onEdit}>\n                             <BiEdit size={20} />\n                         </Button>\n                     ) : null}\n                     {onRemove ? (\n                         <Button variant=\"link\" onClick={onRemove}>\n                             <AiOutlineDelete size={20} color=\"red\" />\n                         </Button>\n                     ) : null}\n                    </div>\n                </div>\n                \n                \n                <p>{item.description}</p>\n            </div>\n            <div className=\"d-flex justify-content-between align-items-end\">\n                <div>\n                    {/* <h5 className=\"mb-0 text-standard\"><b>${item.price}</b></h5> */}\n                    {/* {onAdd ? (\n                        <Button variant=\"standard\" className=\"mt-2\" size=\"sm\" onClick={() => onAdd(item)}>\n                            {!item.quantity ? \"Add to cart\" : `Add another? (${item.quantity})`}\n                        </Button>\n                    ) : null} */}\n                </div>\n                {/* {!item.is_available ? (\n                    <small className=\"text-secondary\">Not Available</small>\n                ) : (null)} */}\n            </div>\n        </Col>\n    </Container>\n);\n\nexport default MenuItem;","import {AiOutlineLink} from 'react-icons/ai';\nimport {Button} from 'react-bootstrap';\nimport QRCodeReact from 'qrcode.react';\nimport React, {useRef} from 'react';\nimport styled from 'styled-components';\nimport {useReactToPrint} from 'react-to-print';\n\nconst Container = styled.div`\n  position: relative;\n`;\n\nconst Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  background-color: rgba(255, 255, 255, 0.5);\n  > div {\n      margin: auto;\n  }\n`;\n\nconst ComponentToPrint = styled.div`\n  text-align: center;\n  margin-top: 200px;\n  h1 {\n      font-size: 100px;\n      font-weight: bold;\n      margin-bottom: 50px;\n  }\n  h2 {\n      font-size: 60px;\n      margin-bottom: 100px;\n  }\n`;\n\nconst QRCode = ({table, placeId, placeName}) => {\n    const componentRef = useRef();\n    const handlePrint = useReactToPrint({\n        content: () => componentRef.current,\n    });\n\n    const url = `${window.location.origin}/menu/${placeId}/${table}`;\n\n    return (\n        <Container>\n            <QRCodeReact value={url} size={200} />\n            <Overlay>\n                <div className=\"d-flex\">\n                    <Button variant=\"standard\" onClick={handlePrint} className=\"mr-2\">\n                        {`Get Code`}\n                    </Button>\n                    <Button variant=\"standard\" href={`/menu/${placeId}/${table}`} target=\"_blank\" className=\"mr-2\">\n                        <AiOutlineLink size={25} />\n                    </Button>\n                </div>\n            </Overlay>\n            <div style={{ display: \"none\" }}>\n                <ComponentToPrint ref={componentRef}>\n                    <h1>{placeName} MenYou</h1>\n                    <h3>https://menyou.eatblynd.com{`/menu/${placeId}/${table}`}</h3>\n                    <br />\n                    <br />\n                    <QRCodeReact value={url} size={500} />\n                </ComponentToPrint>\n            </div>\n        </Container>\n    )\n}\n\nexport default QRCode;","import {Button} from 'react-bootstrap';\nimport styled from 'styled-components';\n\nconst OperationButton = styled(Button)`\n  width: 30px;\n  height: 30px;\n  margin: 0 10px;\n  font-size: 20px;\n  line-height: 18px;\n`;\n\nexport default OperationButton;","import React from 'react';\nimport {Modal, Container, Row, Col} from 'react-bootstrap';\nimport QRCode from './QRCode'\n\nimport OperationButton from './OperationButton';\n\nconst QRCodeModal = ({show, onHide, place, onUpdatePlace}) => (\n    <Modal show={show} onHide={onHide} size=\"lg\" centered>\n        <Modal.Body className=\"text-center pt-4\">\n            <Container>\n                <h3>Menu QR Code</h3>\n                {/* <div className=\"d-flex align-items-center mt-4 mb-4\">\n                    <h5 className=\"mb-0 mr-2\">\n                        Total tables: <b>{place.number_of_tables}</b>\n                    </h5>\n                    <OperationButton\n                      variant=\"lightgray\"\n                      size=\"sm\"\n                      onClick={() => onUpdatePlace(place.number_of_tables - 1)}\n                    >\n                        -\n                    </OperationButton>\n                    <OperationButton\n                      variant=\"lightgray\"\n                      size=\"sm\"\n                      onClick={() => onUpdatePlace(place.number_of_tables + 1)}\n                    >\n                        +\n                    </OperationButton>\n                </div> */}\n                <br />\n                <Row>\n                    {Array.from({length:place.number_of_tables}, (_,i) => i+1).map(\n                        (table) => (\n                            <Col key={table} lg={4} md={6} className=\"mb-4\">\n                                <QRCode table={table} placeId={place.id} placeName={place.name} />\n                            </Col>\n                        )\n                    )}\n                </Row>\n            </Container>\n        </Modal.Body>\n    </Modal>\n);\n\nexport default QRCodeModal;","import {IoMdArrowBack} from 'react-icons/io';\nimport {AiOutlineDelete, AiOutlineQrcode} from 'react-icons/ai';\nimport {RiFileList3Line} from 'react-icons/ri';\nimport {Row, Col, Button, Modal} from 'react-bootstrap';\nimport { useParams, useHistory } from 'react-router-dom';\nimport React, {useEffect, useState, useContext} from 'react';\nimport styled from 'styled-components';\nimport {MdRestaurantMenu} from 'react-icons/md'\n\nimport { fetchPlace, removePlace, removeCategory, removeMenuItem, updatePlace } from '../apis';\nimport AuthContext from '../contexts/AuthContext';\nimport MainLayout from '../layouts/MainLayout';\nimport MenuItemForm from '../containers/MenuItemForm';\nimport MenuItem from '../components/MenuItem';\nimport QRCodeModal from '../components/QRCodeModal';\n\nconst Panel = styled.div`\n  background-color: white;\n  padding: 20px;\n  border-radius: 5px;\n  box-shadow: 1px 1px 10px rgba(0,0,0,0.05);\n`;\n\nconst Place = () => {\n    const [place, setPlace] = useState({});\n    const [menuItemFormShow, setMenuItemFormShow] = useState(false);\n    const [selectedItem, setSelectedItem] = useState(null);\n    const [qrCode, setQrCode] = useState(false);\n\n    const showModal = () => setMenuItemFormShow(true);\n    const hideModal = () => setMenuItemFormShow(false);\n\n    const showQRModal = () => setQrCode(true);\n    const hideQRModal = () => setQrCode(false);\n\n    const auth = useContext(AuthContext);\n    const params = useParams();\n    const history = useHistory();\n\n    const onBack = () => history.push(\"/places\");\n\n    const onFetchPlace = async () => {\n        const json = await fetchPlace(params.id, auth.token);\n        if (json) {\n            setPlace(json);\n\n        }\n    };\n\n    const onRemovePlace = () => {\n        const c = window.confirm(\"Are you sure?\");\n        if (c) {\n            removePlace(params.id, auth.token)\n            .then(onBack);\n        }\n    }\n\n    const onRemoveCategory = (id) => {\n        const c = window.confirm(\"Are you sure?\");\n        if (c) {\n            removeCategory(id, auth.token)\n            .then(onFetchPlace);\n        }\n    }\n\n    const onRemoveMenuItem = (id) => {\n        const c = window.confirm(\"Are you sure?\");\n        if (c) {\n            removeMenuItem(id, auth.token)\n            .then(onFetchPlace);\n        }\n    }\n\n    const onUpdatePlace = (tables) => {\n        updatePlace(place.id, {number_of_tables: tables}, auth.token)\n        .then((json) => {\n            if(json) {\n                setPlace(json);\n            }\n        })\n    }\n\n    useEffect(() => {\n        onFetchPlace();\n    }, []);\n\n    return (\n        <MainLayout>\n            <Row>\n                <Col lg={12}>\n                    <div className=\"mb-4\">\n                        <div className=\"d-flex justify-content-between mb-4 align-items-center\">\n                            <Button variant=\"link\" onClick={onBack}>\n                                <IoMdArrowBack size={25} color=\"black\" />\n                            </Button>\n                            <h3 className=\"mb-0 ml-2 mr-2\">{place.name}</h3>\n\n                            <Button variant=\"link\" onClick={onRemovePlace}>\n                                <AiOutlineDelete size={25} color=\"red\" />\n                            </Button>\n                        </div>\n                        <Button variant=\"link\" onClick={showQRModal}>\n                            <AiOutlineQrcode size={25} />\n                        </Button>\n\n                        {/* <Button variant=\"link\" href={`/places/${params.id}/orders`}>\n                            <RiFileList3Line size={25} />\n                        </Button> */}\n\n                    </div>\n                </Col>\n                <Col md={4}>\n                    <Panel>\n                        <MenuItemForm place={place} onDone={onFetchPlace} />\n                    </Panel>\n                </Col>\n                <Col md={8}>\n                    {place?.categories?.map((category) => (\n                        <div key={category.id} className=\"mb-5\">\n                            <div className=\"d-flex align-items-center mb-4\">\n                                <h4 className=\"mb-0 mr-2\">\n                                    <b>{category.name}</b>\n                                </h4>\n                                <Button variant=\"link\" onClick={() => onRemoveCategory(category.id)}>\n                                    <AiOutlineDelete size={25} color=\"red\" />\n                                </Button>\n                            </div>\n                            \n                            {category.menu_items.map((item) => (\n                                <MenuItem \n                                  key={item.id} \n                                  item={item} \n                                  onEdit={() => {\n                                      setSelectedItem(item);\n                                      showModal()\n                                  }}\n                                  onRemove={() => onRemoveMenuItem(item.id)}\n                                />\n                            ))}\n                        </div>\n                    ))}\n                </Col>\n\n            </Row>\n            <Modal show={menuItemFormShow} onHide={hideModal} centered>\n                <Modal.Body>\n                    <h4 className=\"text-center\">Menu Item</h4>\n                    <MenuItemForm\n                        place={place}\n                        onDone={() => {\n                            onFetchPlace();\n                            hideModal()\n                        }}\n                        item={selectedItem}\n                    />\n                </Modal.Body>\n            </Modal>\n            <QRCodeModal \n              show={qrCode} \n              onHide={hideQRModal} \n              place={place} \n              centered \n              onUpdatePlace={onUpdatePlace}\n            />\n        </MainLayout>\n    )\n};\n\nexport default Place;","import { Form, Button } from \"react-bootstrap\";\nimport React, {useState, useContext} from \"react\";\n\nimport {addPlace, addCategory} from '../apis';\nimport AuthContext from \"../contexts/AuthContext\";\n\nimport ImageDropzone from \"./ImageDropzone\";\n\nconst PlaceForm = ({onDone}) => {\n    const [name, setName] = useState(\"\")\n    const [address, setAddress] = useState(\"\")\n    const [site, setSite] = useState(\"\")\n    const [image, setImage] = useState(\"\")\n\n    const auth = useContext(AuthContext);\n\n    const onClick = async () => {\n        const json = await addPlace({name, address, site, image}, auth.token);\n\n        \n        if (json) {\n            setName(\"\");\n            setAddress(\"\");\n            setSite(\"\");\n            setImage(\"\");\n            ['Starters', 'Mains'].forEach(async d => {\n                await addCategory({name: d, place: json.id}, auth.token);\n            })\n            onDone();\n        }\n    }\n\n    return (\n        <div>\n            <h4 className=\"text-center\">Place</h4>\n            <Form.Group>\n            <Form.Label>Name</Form.Label>\n            <Form.Control \n                type=\"text\" \n                placeholder=\"Enter Name\" \n                value={name} \n                onChange={(e) => setName(e.target.value)} \n            />\n            </Form.Group>\n\n            <Form.Group>\n            <Form.Label>Address</Form.Label>\n            <Form.Control \n                type=\"text\" \n                placeholder=\"Enter Address\" \n                value={address} \n                onChange={(e) => setAddress(e.target.value)} \n            />\n            </Form.Group>\n\n            <Form.Group>\n            <Form.Label>Site</Form.Label>\n            <Form.Control \n                type=\"text\" \n                placeholder=\"Enter Site\" \n                value={site} \n                onChange={(e) => setSite(e.target.value)} \n            />\n            </Form.Group>\n    \n            <Form.Group>\n            <Form.Label>Image (optional)</Form.Label>\n            <ImageDropzone value={image} onChange={setImage} />\n            </Form.Group>\n    \n            <Button variant=\"standard\" block onClick={onClick}>\n                Add\n            </Button>\n        </div>\n    )\n}\n\n\n\nexport default PlaceForm;","import { Row, Col, Modal } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport React, {useEffect, useState, useContext} from 'react';\nimport styled from 'styled-components';\n\nimport { fetchPlaces } from '../apis';\nimport AuthContext from '../contexts/AuthContext';\n\nimport MainLayout from '../layouts/MainLayout';\nimport PlaceForm from '../containers/PlaceForm'\n\nconst Place = styled.div`\n  margin-bottom: 20px;\n  cursor: pointer;\n  transition: all 0.2s;\n  :hover {\n      transform: scale(1.05)\n  }\n  > div {\n      background-size: cover;\n      height: 200px;\n      border-radius: 5px;\n  }\n  > p {\n      margin-top: 5px;\n      font-size: 20px;\n      font-weight: bold;\n  }\n`;\n\nconst AddPlaceButton = styled.div`\n    border: 1px dashed gray;\n    height: 200px;\n    border-radius: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 20px;\n    cursor: pointer;\n    background-color: white;\n    :hover {\n        background-color: #fbfbfb;\n    }\n`;\n\nconst Places = () => {\n    const [places, setPlaces] = useState([]);\n    const [show, setShow] = useState(false);\n\n    const auth = useContext(AuthContext);\n    const history = useHistory();\n\n    const onHide = () => setShow(false);\n    const onShow = () => setShow(true);\n\n    const onFetchPlaces = async () => {\n        const json = await fetchPlaces(auth.token);\n        if (json) {\n            setPlaces(json);\n        }\n    };\n\n    useEffect(() => {\n        onFetchPlaces();\n    }, []);\n\n    const onDone = () => {\n        onFetchPlaces();\n        onHide();\n    }\n\n    return (\n        <MainLayout>\n            <h3>My Places</h3>\n            <Modal show={show} onHide={onHide} centered>\n                <Modal.Body>\n                    <PlaceForm onDone={onDone} />\n                </Modal.Body>\n            </Modal>\n\n            <Row>\n                {places.map((place) => (\n                    <Col key={place.id} lg={4}>\n                        <Place onClick={() => history.push(`/places/${place.id}`)}>\n                            <div style={{backgroundImage: `url(${place.image})` }}></div>\n                            <p>{place.name}</p>\n                        </Place>\n                    </Col>\n                ))}\n                <Col lg={4}>\n                    <AddPlaceButton onClick={onShow}>Add New Place</AddPlaceButton>\n                </Col>\n            </Row>\n        </MainLayout>\n    )\n}\n\nexport default Places;","import { Button, Card, Col, Form, Row, Spinner } from 'react-bootstrap';\nimport {React, useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport MainLayout from '../layouts/MainLayout';\nimport AuthContext from '../contexts/AuthContext';\n\nconst Register = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const history = useHistory();\n    const auth = useContext(AuthContext);\n\n    useEffect(() => {\n        if (auth.token) {\n            history.replace('/places')\n        }\n    });\n\n    const onClick = () => {\n        auth.register(username, password, () => history.replace(\"/places\"));\n    };\n\n    return (\n        <MainLayout>\n            <Row className=\"justify-content-center\">\n                <Col lg={6} md={8}>\n                    <Card>\n                        <Card.Body>\n                            <h3 className=\"text-center\">\n                                <b>REGISTER</b>\n                            </h3>\n                            <Form.Group>\n                                <Form.Label>Username</Form.Label>\n                                <Form.Control \n                                    type=\"text\" \n                                    placeholder=\"Enter Username\" \n                                    value={username} \n                                    onChange={(e) => setUsername(e.target.value)} \n                                />\n                            </Form.Group>\n                            <Form.Group>\n                                <Form.Label>Password</Form.Label>\n                                <Form.Control \n                                    type=\"password\" \n                                    placeholder=\"Enter Password\" \n                                    value={password} \n                                    onChange={(e) => setPassword(e.target.value)} \n                                    />\n                            </Form.Group>\n                            <Button variant=\"standard\" block onClick={onClick} disabled={auth.loading}>\n                                {auth.loading ? (<Spinner variant=\"standard\" as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />) : (\"Register\")}\n                            </Button>\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n        </MainLayout>\n    )\n}\n\nexport default Register;","import React from 'react';\nimport styled from 'styled-components';\nimport MenuItem from './MenuItem';\n\nconst Place = styled.div`\n  text-align: center;\n  img {\n      border-radius: 5px;\n      margin-bottom: 20px;\n  }\n`;\n\nconst MenuList = ({place, cart, onAdd}) => {\n\n    return (\n        <>\n        <Place>\n            {/* Don't render image if there is none */}\n            {place.image && (<img src={place.image} width={100} height={100} alt=\"Place logo\" />)}\n            <h3><b>{place.name}</b></h3>\n            <p>{place.address}</p>\n        </Place>\n        {place?.categories\n          ?.filter(\n                  (category) => category.menu_items.filter((i) => i.is_available).length\n                  )\n                  .map((category) => (\n                      <div key={category.id} className=\"mt-5\">\n                          <h4 className=\"mb-4\">\n                              <b>{category.name}</b>\n                          </h4>\n                          {category.menu_items\n                            .filter((item) => item.is_available)\n                        .map((item) => (\n                            <MenuItem \n                              key={item.id} \n                              item={{\n                                  ...item,\n                                  quantity: cart[item.id]?.quantity,\n                              }}\n                              onAdd={onAdd}\n                            />\n                        ))}\n                      </div>\n                  ))\n        }\n        </>\n    )\n};\n\nexport default MenuList;","import React, {useContext, useState} from 'react';\nimport {loadStripe} from '@stripe/stripe-js';\nimport {\n  CardElement,\n  Elements,\n  useStripe,\n  useElements,\n} from '@stripe/react-stripe-js';\nimport {Form, Button} from 'react-bootstrap'\nimport {toast} from 'react-hot-toast';\nimport {useParams} from 'react-router-dom';\n\nimport { createPaymentIntent } from '../apis';\nimport AuthContext from '../contexts/AuthContext';\n\nconst PaymentForm = ({amount, items, onDone}) => {\n  const [loading, setLoading] = useState(false);\n\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const auth = useContext(AuthContext)\n  const params = useParams();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (elements == null) {\n      return;\n    }\n\n    const {error, paymentMethod} = await stripe.createPaymentMethod({\n      type: 'card',\n      card: elements.getElement(CardElement),\n    });\n\n    if (!error) {\n        setLoading(true);\n        const json = await createPaymentIntent({\n            payment_method: paymentMethod,\n            amount,\n            place: params.id,\n            table: params.table,\n            detail: items\n        }, auth.token);\n\n        if (json?.success) {\n            toast(`Your order #${json.order} is proccessing`, {type: \"success\"})\n            onDone();\n            setLoading(false);\n        } else if (json?.error) {\n            toast(json.error, {type: \"error\"})\n            setLoading(false);\n        }\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <CardElement options={{hidePostalCode: true}} />\n      <Button variant=\"standard\" className=\"mt-4\" block type=\"submit\" disabled={loading}>\n          {loading ? \"Processing...\" : \"Pay\"}\n      </Button>\n    </Form>\n  );\n};\n\nconst stripePromise = loadStripe('pk_test_UWzv2vIvXBwDKy9bADOUMU4C005WuVQ1v1');\n\nconst StripeContext = (props) => (\n  <Elements stripe={stripePromise}>\n    <PaymentForm {...props} />\n  </Elements>\n);\n\nexport default StripeContext;\n","import React, {useMemo} from 'react';\nimport {Card} from 'react-bootstrap';\nimport OperationButton from './OperationButton';\nimport PaymentForm from '../containers/PaymentForm';\n\nconst TipJar = ({items, onAdd, onRemove, onPaymentDone}) => {\n    const totalPrice = useMemo(\n        () => items.map((i) => i.quantity * i.price).reduce((a,b) => a+b, 0),\n        [items]\n    );\n\n    // const totalTip = \n\n    return (\n        <>\n          <h3 className=\"text-center mb-4\"><b>Tip Jar</b></h3>\n          <Card>\n              <Card.Body>\n                  {items.map((item) => (\n                      <div key={item.id} className=\"d-flex mb-4 align-items-center\">\n                          <div className=\"flex-grow-1\">\n                              <p className=\"mb-0\"><b>{item.name}</b></p>\n                              <span>${item.price}</span>\n                          </div>\n                          <div className=\"d-flex align-items-center\">\n                          <OperationButton\n                            variant=\"lightgray\"\n                            size=\"sm\"\n                            onClick={() => onRemove(item)}\n                          >-</OperationButton>\n                              <span>{item.quantity}</span>\n                          <OperationButton\n                            variant=\"lightgray\"\n                            size=\"sm\"\n                            onClick={() => onAdd(item)}\n                          >+</OperationButton>\n                          </div>\n                      </div>\n                  ))}\n\n                      <div className=\"d-flex mb-4 align-items-center\">\n                          <div className=\"flex-grow-1\">\n                              <p className=\"mb-0\"><b>\"YOLO\"</b></p>\n                          </div>\n                          <div className=\"d-flex align-items-center\">\n                          <OperationButton\n                            variant=\"lightgray\"\n                            size=\"sm\"\n                            // onClick={}\n                          >-</OperationButton>\n                              <span>20%</span>\n                          <OperationButton\n                            variant=\"lightgray\"\n                            size=\"sm\"\n                            // onClick={}\n                          >+</OperationButton>\n                          </div>\n                      </div>\n\n                  <hr />\n                  <div className=\"d-flex justify-content-between\">\n                      <h5><b>Total</b></h5>\n                      <h5><b>${totalPrice}</b></h5>\n                  </div>\n                  <hr className=\"mb-4\" />\n                  <PaymentForm amount={totalPrice} items={items} onDone={onPaymentDone} />\n              </Card.Body>\n          </Card>\n        </>\n    )\n}\n\nexport default TipJar;","import {Container, Row, Col, Button} from 'react-bootstrap'\nimport {useParams} from 'react-router-dom';\nimport React, {useState, useEffect, useMemo} from 'react';\nimport {fetchPlace} from '../apis';\nimport {IoCloseOutline} from 'react-icons/io5'\nimport styled from 'styled-components';\n\nimport MenuList from '../components/MenuList';\nimport ShoppingCart from '../components/ShoppingCart';\nimport TipJar from '../components/TipJar';\n\nconst OrderButton = styled(Button)`\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  border-radius: 50%;\n  box-shadow: 1px 1px 8px rgba(0,0,0,0.2);\n  width: 60px;\n  height: 60px;\n`;\n\nconst TipButton = styled(Button)`\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  border-radius: 50%;\n  box-shadow: 1px 1px 8px rgba(0,0,0,0.2);\n  width: 75px;\n  height: 75px;\n`;\n\nconst Menu = () => {\n    const [place, setPlace] = useState({});\n    const [cart, setCart] = useState({});\n    const [showCart, setShowCart] = useState(false);\n    const [showTip, setShowTip] = useState(false);\n\n    const params = useParams();\n\n    const onFetchPlace = async () => {\n        const json = await fetchPlace(params.id);\n        if (json) {\n            setPlace(json);\n        }\n    };\n\n    const onAddItemToCart = (item) => {\n        setCart({\n            ...cart,\n            [item.id]: {\n                ...item,\n                quantity: (cart[item.id]?.quantity || 0) + 1,\n            }\n        });\n    }\n\n    const onRemoveItemFromCart = (item) => {\n        if (totalQuantity === 1) {\n            setShowCart(false);\n        }\n        setCart({\n            ...cart,\n            [item.id]: {\n                ...item,\n                quantity: (cart[item.id]?.quantity || 0) - 1,\n            }\n        });\n    }\n\n    const onPaymentDone = () => {\n        setCart({});\n        setShowCart(false);\n    }\n\n    const totalQuantity = useMemo(\n        () => Object.keys(cart)\n                .map((i) => cart[i].quantity)\n                .reduce((a,b) => a+b, 0),\n          [cart]\n    );\n\n    useEffect(() => {\n        onFetchPlace();\n    }, []);\n\n    return (\n        <Container className=\"mt-5 mb-5\">\n            <Row className=\"justify-content-center\">\n                <Col lg={8}>\n                    {/* {showCart ? (\n                        <ShoppingCart items={Object.keys(cart).map((key) => cart[key]).filter((item) => item.quantity > 0)} onAdd={onAddItemToCart} onRemove={onRemoveItemFromCart} onPaymentDone={onPaymentDone} />\n                    ) : (\n                        <MenuList place={place} cart={cart} onAdd={onAddItemToCart} />\n                    )} */}\n\n                    {showTip ? (\n                        <TipJar items={Object.keys(cart).map((key) => cart[key]).filter((item) => item.quantity > 0)} onAdd={onAddItemToCart} onRemove={onRemoveItemFromCart} onPaymentDone={onPaymentDone} />\n                    ) : (\n                        \n                        <MenuList place={place} cart={cart} onAdd={onAddItemToCart} /> \n                    )}\n                    {/** TODO: can add onVote here too */}\n                </Col>\n            </Row>\n            {/* {totalQuantity? (\n                <OrderButton variant=\"standard\" onClick={() => setShowCart(!showCart)}>\n                    {showCart ? <IoCloseOutline size={25} /> : totalQuantity}\n                </OrderButton>\n            ) : <TipButton variant=\"standard\" onClick={() => setShowCart(!showTip)}>\n                    {showTip ? <IoCloseOutline size={25} /> : \"Leave tip?\"}\n                </TipButton>} */}\n            {/* {showTip? (\n                <OrderButton variant=\"standard\" onClick={() => setShowTip(!showTip)}>\n                    {showTip ? <IoCloseOutline size={25} /> : totalQuantity}\n                </OrderButton>\n            ) : <TipButton variant=\"standard\" onClick={() => setShowTip(!showTip)}>\n                    {showTip ? <IoCloseOutline size={25} /> : \"Leave tip?\"}\n                </TipButton>} */}\n        </Container>\n    )\n};\n\nexport default Menu;","import { Card, Button } from \"react-bootstrap\";\nimport React from 'react';\n\nconst Order = ({order, onComplete }) => (\n    <Card className=\"mb-3\">\n        <Card.Header className=\"d-flex justify-content-between\">\n            <span>{`Order #${order.id} - Table #${order.table}`}</span>\n            <span><b>${order.amount}</b></span>\n        </Card.Header>\n        <Card.Body className=\"d-flex justify-content-between\">\n            <div>\n                {JSON.parse(order.detail).map((item) => (\n                    <div className=\"mb-2\">\n                        <span>x{item.quantity}</span>\n                        <img src={item.image} width={30} height={30} style={{ borderRadius: 3, margin: \"0 10px\"}} />\n                        <span>{item.name}</span>\n                    </div>\n                ))}\n            </div>\n            <div>\n                {onComplete ? (\n                    <Button variant=\"standard\" size=\"md\" onClick={onComplete}>\n                        Done\n                    </Button>\n                ) : null}\n            </div>\n        </Card.Body>\n    </Card>\n)\n\nexport default Order;","import {IoMdArrowBack} from 'react-icons/io';\nimport {Row, Col, Button} from 'react-bootstrap';\nimport {useParams, useHistory} from 'react-router-dom';\nimport React, {useState, useEffect, useContext} from 'react';\n\nimport { fetchOrders, completeOrder } from '../apis';\nimport AuthContext from '../contexts/AuthContext';\nimport MainLayout from '../layouts/MainLayout';\nimport Order from '../components/Order';\n\nconst Orders = () => {\n    const [orders, setOrders] = useState([]);\n    const params = useParams();\n    const history = useHistory();\n    const auth = useContext(AuthContext);\n\n    const onBack = () => history.push(`/places/${params.id}`);\n\n    const onFetchOrders = async () => {\n        const json = await fetchOrders(params.id, auth.token);\n        console.log(json)\n        if (json) {\n            setOrders(json);\n        }\n    }\n\n    const onCompleteOrder = async (orderId) => {\n        const json = await completeOrder(orderId, {status: \"completed\"}, auth.token);\n        if (json) {\n            onFetchOrders();\n        }\n    }\n\n    useEffect(() => {\n        onFetchOrders();\n        const interval = setInterval(() => {\n            onFetchOrders();\n        }, 5000);\n        return () => clearInterval(interval);\n    }, []);\n\n    return (\n        <MainLayout>\n            <div className=\"d-flex align-items-center mb-4\">\n                <Button variant=\"link\" onClick={onBack}>\n                    <IoMdArrowBack size={25} color=\"black\" />\n                </Button>\n                <h3 className=\"mb-0 ml-2 mr-2\">My Orders</h3>\n            </div>\n\n            <Row className=\"justify-content-center\">\n                {orders\n                ?.filter((o) => o.status === \"processing\")\n                ?.map((o) => (\n                    <Col key={o.id} lg={8}>\n                        <Order order={o} onComplete={() => onCompleteOrder(o.id)} />\n                    </Col>\n                ))}\n            </Row>\n        </MainLayout>\n    );\n\n}\n\nexport default Orders;","import { Route, Redirect } from \"react-router-dom\";\nimport React, {useContext} from \"react\";\n\nimport AuthContext from \"../contexts/AuthContext\";\n\nfunction PrivateRoute({ children, ...rest }) {\n    const auth = useContext(AuthContext);\n\n    return (\n        <Route\n          {...rest}\n          render={({ location }) => \n              auth.token ? (\n                  children\n              ) : (\n                  <Redirect \n                    to={{\n                        pathname: '/login',\n                        state: { from: location },\n                    }}\n                  />\n              )\n          }\n        />\n    )\n}\n\nexport default PrivateRoute;","import { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport React from 'react';\nimport { Toaster } from 'react-hot-toast';\n\nimport { AuthProvider } from '../contexts/AuthContext';\n\nimport Home from '../pages/Home';\nimport Login from '../pages/Login';\nimport Place from '../pages/Place';\nimport Places from '../pages/Places';\nimport Register from '../pages/Register';\nimport Menu from '../pages/Menu';\nimport Orders from '../pages/Orders';\nimport PrivateRoute from './PrivateRoute';\n\nfunction App() {\n    return (\n        <AuthProvider>\n        <BrowserRouter>\n            <Switch>\n                <Route exact path='/'>\n                    <Home />\n                </Route>\n                <Route exact path='/login'>\n                    <Login />\n                </Route>\n                <Route exact path='/register'>\n                    <Register />\n                </Route>\n                <Route exact path='/menu/:id/:table'>\n                    <Menu />\n                </Route>\n                <PrivateRoute exact path='/places/:id'>\n                    <Place />\n                </PrivateRoute>\n                <PrivateRoute exact path='/places'>\n                    <Places />\n                </PrivateRoute>\n                <PrivateRoute exact path='/places/:id/orders'>\n                    <Orders />\n                </PrivateRoute>\n            </Switch>\n        </BrowserRouter>\n        <Toaster />\n        </AuthProvider>\n    )\n}\n\nexport default App;","import \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './router/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}